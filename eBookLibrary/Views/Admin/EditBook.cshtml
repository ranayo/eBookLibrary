@model eBookLibrary.Models.Book

@{ ViewBag.Title = "Edit Book"; }

<h2>Edit Book</h2>

<!-- Display Success and Error Messages -->
@if (TempData["Message"] != null)
{
<div class="alert alert-success">
    @TempData["Message"]
</div>}

@if (TempData["Error"] != null)
{
<div class="alert alert-danger">
    @TempData["Error"]
</div>}

@using (Html.BeginForm("EditBook", "Admin", FormMethod.Post, new { enctype = "multipart/form-data" }))
{
@Html.AntiForgeryToken()
                @Html.HiddenFor(m => m.Id) <!-- Basic Details -->
                                                <div class="form-group">
                                                    @Html.LabelFor(m => m.Title)
                                                    @Html.TextBoxFor(m => m.Title, new { @class = "form-control" })
                                                    @Html.ValidationMessageFor(m => m.Title, "", new { @class = "text-danger" })
                                                </div>

                                                                <div class="form-group">
                                                                    @Html.LabelFor(m => m.Author)
                                                                    @Html.TextBoxFor(m => m.Author, new { @class = "form-control" })
                                                                    @Html.ValidationMessageFor(m => m.Author, "", new { @class = "text-danger" })
                                                                </div>

                                                                                <div class="form-group">
                                                                                    @Html.LabelFor(m => m.Publisher)
                                                                                    @Html.TextBoxFor(m => m.Publisher, new { @class = "form-control" })
                                                                                    @Html.ValidationMessageFor(m => m.Publisher, "", new { @class = "text-danger" })
                                                                                </div> <!-- Pricing and Availability -->
                                                                                                                <div class="form-group">
                                                                                                                    @Html.LabelFor(m => m.BuyPrice)
                                                                                                                    @Html.TextBoxFor(m => m.BuyPrice, new { @class = "form-control", type = "number", step = "0.01", min = "0" })
                                                                                                                    @Html.ValidationMessageFor(m => m.BuyPrice, "", new { @class = "text-danger" })
                                                                                                                </div>

                                                                                                                                <div class="form-group">
                                                                                                                                    @Html.LabelFor(m => m.BorrowPrice)
                                                                                                                                    @Html.TextBoxFor(m => m.BorrowPrice, new { @class = "form-control", type = "number", step = "0.01", min = "0" })
                                                                                                                                    @Html.ValidationMessageFor(m => m.BorrowPrice, "", new { @class = "text-danger" })
                                                                                                                                </div>

                                                                                                                                                <div class="form-group">
                                                                                                                                                    @Html.LabelFor(m => m.IsAvailableForBorrow)
                                                                                                                                                    <div>
                                                                                                                                                        @Html.CheckBoxFor(m => m.IsAvailableForBorrow)
                                                                                                                                                        @Html.ValidationMessageFor(m => m.IsAvailableForBorrow, "", new { @class = "text-danger" })
                                                                                                                                                    </div>
                                                                                                                                                </div>

                                                                                                                                                                <div class="form-group">
                                                                                                                                                                    @Html.LabelFor(m => m.CopiesAvailable)
                                                                                                                                                                    @Html.TextBoxFor(m => m.CopiesAvailable, new { @class = "form-control", type = "number", min = "0" })
                                                                                                                                                                    @Html.ValidationMessageFor(m => m.CopiesAvailable, "", new { @class = "text-danger" })
                                                                                                                                                                </div> <!-- Additional Details -->
                                                                                                                                                                                                <div class="form-group">
                                                                                                                                                                                                    @Html.LabelFor(m => m.Genre)
                                                                                                                                                                                                    @Html.TextBoxFor(m => m.Genre, new { @class = "form-control" })
                                                                                                                                                                                                    @Html.ValidationMessageFor(m => m.Genre, "", new { @class = "text-danger" })
                                                                                                                                                                                                </div>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <button type="submit" class="btn btn-primary">Save Changes</button>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                @Html.ActionLink("Cancel", "ManageCatalog", "Admin", null, new { @class = "btn btn-secondary" })}

<!-- Include jQuery and validation scripts -->
@section Scripts {
    @Scripts.Render("~/bundles/jqueryval")
}